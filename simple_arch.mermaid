%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#f3f4f6', 'primaryTextColor':'#1f2937', 'primaryBorderColor':'#d1d5db', 'lineColor':'#6b7280', 'secondaryColor':'#e5e7eb', 'tertiaryColor':'#fef3c7', 'background':'#ffffff'}}}%%

graph TB
    %% User asks a question
    USER[üë§ User] -->|"What equipment needs<br/>maintenance?"| INTERFACE
    
    subgraph " "
        INTERFACE[üñ•Ô∏è Web/CLI Interface<br/><i>ADK Framework</i>]
    end
    
    INTERFACE -->|Natural Language| AGENT
    
    subgraph "ü§ñ ADK Agent System"
        AGENT[Manufacturing Analyst<br/><i>Powered by Gemini 2.0</i>]
        TOOLS[üõ†Ô∏è Analysis Tools<br/><i>SPARQL ‚Ä¢ Python ‚Ä¢ Cache</i>]
        AGENT <--> TOOLS
    end
    
    AGENT -->|"I need OEE data<br/>for all equipment"| DATA
    
    subgraph "üìä Data Sources"
        DATA[Manufacturing Database<br/><i>+ Ontology Knowledge</i>]
    end
    
    DATA -->|Results| AGENT
    
    AGENT -->|"LINE2-PCK needs urgent<br/>maintenance - $9.36M opportunity"| INTERFACE
    
    INTERFACE -->|Insights| USER
    
    %% Styling for clarity
    style USER fill:#e0f2fe,stroke:#0284c7,stroke-width:3px
    style INTERFACE fill:#f3f4f6,stroke:#6b7280,stroke-width:2px
    style AGENT fill:#fef3c7,stroke:#f59e0b,stroke-width:3px
    style TOOLS fill:#e9d5ff,stroke:#a855f7,stroke-width:2px
    style DATA fill:#fce7f3,stroke:#ec4899,stroke-width:2px