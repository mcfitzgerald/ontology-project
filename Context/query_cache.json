{
  "successful_queries": [
    {
      "query": "SELECT ?property WHERE {\n  ?property rdfs:domain mes_ontology_populated:Equipment .\n  FILTER(ISIRI(?property))\n}",
      "purpose": "List all properties associated with the Equipment class.",
      "row_count": 7,
      "analysis_type": "Ontology Exploration",
      "timestamp": "2025-07-16T12:49:26.314786",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT ?equipment (AVG(?oee) AS ?avgOEE) (COUNT(?event) AS ?count) WHERE {\n    ?equipment mes_ontology_populated:logsEvent ?event .\n    ?event mes_ontology_populated:hasOEEScore ?oee .\n    FILTER(ISIRI(?equipment))\n} GROUP BY ?equipment\nORDER BY ?avgOEE",
      "purpose": "average OEE by equipment",
      "row_count": 9,
      "analysis_type": "descriptive",
      "timestamp": "2025-07-16T15:52:26.375215",
      "pattern": "SELECT-equipment->event-GROUP_BY-ORDER_BY"
    },
    {
      "query": "SELECT ?event WHERE {\n    ?event a mes_ontology_populated:ProductionLog .\n    FILTER(ISIRI(?event))} LIMIT 10",
      "purpose": "Check for ProductionLog events",
      "row_count": 10,
      "analysis_type": "Verification",
      "timestamp": "2025-07-16T15:53:52.042257",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT ?s ?p ?o WHERE { ?s ?p ?o.\n    FILTER(ISIRI(?s))\n    FILTER(ISIRI(?p))\n    FILTER(ISIRI(?o))} LIMIT 200",
      "purpose": "Querying for absolutely everything",
      "row_count": 200,
      "analysis_type": "Debugging",
      "timestamp": "2025-07-16T15:54:06.995921",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT ?p ?o WHERE {\n  mes_ontology_populated:LINE2-PCK ?p ?o .\n  FILTER(ISIRI(?p))\n    FILTER(ISIRI(?o))}",
      "purpose": "Find all triples where LINE2-PCK is the subject",
      "row_count": 3899,
      "analysis_type": "Debugging",
      "timestamp": "2025-07-16T15:54:14.999582",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT DISTINCT ?class WHERE { ?class a owl:Class . FILTER(ISIRI(?class)) }",
      "purpose": "Discover available classes in the ontology",
      "row_count": 21,
      "analysis_type": null,
      "timestamp": "2025-07-17T08:52:59.266248",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT DISTINCT ?property WHERE { ?property rdfs:domain mes_ontology_populated:Equipment .\n    FILTER(ISIRI(?property))}",
      "purpose": "Find properties with Equipment as domain",
      "row_count": 7,
      "analysis_type": null,
      "timestamp": "2025-07-17T08:53:03.979545",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT DISTINCT ?eventType WHERE { ?equipment mes_ontology_populated:logsEvent ?event . ?event a ?eventType . FILTER(ISIRI(?eventType)) }",
      "purpose": "Find event types logged by equipment",
      "row_count": 3,
      "analysis_type": null,
      "timestamp": "2025-07-17T08:53:07.277954",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT DISTINCT ?property WHERE { ?event a mes_ontology_populated:ProductionLog . ?event ?property ?value . FILTER(ISIRI(?property)) }",
      "purpose": "Discover properties of ProductionLog",
      "row_count": 9,
      "analysis_type": null,
      "timestamp": "2025-07-17T08:53:09.915809",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT DISTINCT ?property WHERE { ?event a mes_ontology_populated:DowntimeLog . ?event ?property ?value . FILTER(ISIRI(?property)) }",
      "purpose": "Discover properties of DowntimeLog",
      "row_count": 9,
      "analysis_type": null,
      "timestamp": "2025-07-17T08:53:12.655244",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT ?equipment (AVG(?oee) AS ?avgOEE) WHERE { ?equipment mes_ontology_populated:logsEvent ?event . ?event a mes_ontology_populated:ProductionLog . ?event mes_ontology_populated:hasOEEScore ?oee . FILTER(ISIRI(?equipment)) } GROUP BY ?equipment ORDER BY ?avgOEE",
      "purpose": "Calculate average OEE for each equipment",
      "row_count": 9,
      "analysis_type": null,
      "timestamp": "2025-07-17T08:54:02.387765",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT DISTINCT ?p WHERE { ?s ?p ?o . VALUES ?s {mes_ontology_populated:LINE1-FIL mes_ontology_populated:LINE1-PCK mes_ontology_populated:LINE1-PAL} FILTER(ISIRI(?p))}",
      "purpose": "verify property names",
      "row_count": 7,
      "analysis_type": null,
      "timestamp": "2025-07-17T08:54:57.846866",
      "pattern": "SELECT"
    },
    {
      "query": "SELECT ?s ?p ?o WHERE { ?s ?p ?o .\n    FILTER(ISIRI(?s))\n    FILTER(ISIRI(?p))\n    FILTER(ISIRI(?o))} LIMIT 10",
      "purpose": "List all triples",
      "row_count": 10,
      "analysis_type": null,
      "timestamp": "2025-07-17T08:55:13.703206",
      "pattern": "SELECT"
    }
  ],
  "failed_queries": [
    {
      "query": "SELECT ?s ?p ?o WHERE { ?s ?p ?o } LIMIT 200",
      "error": "{\"status\":\"error\",\"error\":{\"type\":\"http_error\",\"message\":\"SPARQL query error: ('Error at FILTER', 16)\",\"hint\":null,\"query_position\":null},\"request_id\":\"97e8049f-0a39-46b8-8354-eadfa40dba06\"}",
      "fixed_query": null,
      "timestamp": "2025-07-16T15:54:04.235835"
    },
    {
      "query": "SELECT ?s ?p ?o WHERE {\n  ?s ?p ?o .\n  FILTER regex(str(?s), \"LINE2-PCK\")\n}",
      "error": "{\"status\":\"error\",\"error\":{\"type\":\"http_error\",\"message\":\"SPARQL query error: user-defined function raised exception\",\"hint\":null,\"query_position\":null},\"request_id\":\"38373c2f-dd35-4ede-b2d8-dfa3782fcfc2\"}",
      "fixed_query": null,
      "timestamp": "2025-07-16T15:54:12.380426"
    }
  ],
  "patterns": {
    "SELECT": {
      "count": 12,
      "examples": [
        {
          "query": "SELECT ?property WHERE {\n  ?property rdfs:domain mes_ontology_populated:Equipment .\n  FILTER(ISIRI(?property))\n}",
          "purpose": "List all properties associated with the Equipment class.",
          "row_count": 7
        },
        {
          "query": "SELECT ?event WHERE {\n    ?event a mes_ontology_populated:ProductionLog .\n    FILTER(ISIRI(?event))} LIMIT 10",
          "purpose": "Check for ProductionLog events",
          "row_count": 10
        },
        {
          "query": "SELECT ?s ?p ?o WHERE { ?s ?p ?o.\n    FILTER(ISIRI(?s))\n    FILTER(ISIRI(?p))\n    FILTER(ISIRI(?o))} LIMIT 200",
          "purpose": "Querying for absolutely everything",
          "row_count": 200
        },
        {
          "query": "SELECT ?p ?o WHERE {\n  mes_ontology_populated:LINE2-PCK ?p ?o .\n  FILTER(ISIRI(?p))\n    FILTER(ISIRI(?o))}",
          "purpose": "Find all triples where LINE2-PCK is the subject",
          "row_count": 3899
        },
        {
          "query": "SELECT DISTINCT ?class WHERE { ?class a owl:Class . FILTER(ISIRI(?class)) }",
          "purpose": "Discover available classes in the ontology",
          "row_count": 21
        },
        {
          "query": "SELECT DISTINCT ?property WHERE { ?property rdfs:domain mes_ontology_populated:Equipment .\n    FILTER(ISIRI(?property))}",
          "purpose": "Find properties with Equipment as domain",
          "row_count": 7
        },
        {
          "query": "SELECT DISTINCT ?eventType WHERE { ?equipment mes_ontology_populated:logsEvent ?event . ?event a ?eventType . FILTER(ISIRI(?eventType)) }",
          "purpose": "Find event types logged by equipment",
          "row_count": 3
        },
        {
          "query": "SELECT DISTINCT ?property WHERE { ?event a mes_ontology_populated:ProductionLog . ?event ?property ?value . FILTER(ISIRI(?property)) }",
          "purpose": "Discover properties of ProductionLog",
          "row_count": 9
        },
        {
          "query": "SELECT DISTINCT ?property WHERE { ?event a mes_ontology_populated:DowntimeLog . ?event ?property ?value . FILTER(ISIRI(?property)) }",
          "purpose": "Discover properties of DowntimeLog",
          "row_count": 9
        },
        {
          "query": "SELECT ?equipment (AVG(?oee) AS ?avgOEE) WHERE { ?equipment mes_ontology_populated:logsEvent ?event . ?event a mes_ontology_populated:ProductionLog . ?event mes_ontology_populated:hasOEEScore ?oee . FILTER(ISIRI(?equipment)) } GROUP BY ?equipment ORDER BY ?avgOEE",
          "purpose": "Calculate average OEE for each equipment",
          "row_count": 9
        },
        {
          "query": "SELECT DISTINCT ?p WHERE { ?s ?p ?o . VALUES ?s {mes_ontology_populated:LINE1-FIL mes_ontology_populated:LINE1-PCK mes_ontology_populated:LINE1-PAL} FILTER(ISIRI(?p))}",
          "purpose": "verify property names",
          "row_count": 7
        },
        {
          "query": "SELECT ?s ?p ?o WHERE { ?s ?p ?o .\n    FILTER(ISIRI(?s))\n    FILTER(ISIRI(?p))\n    FILTER(ISIRI(?o))} LIMIT 10",
          "purpose": "List all triples",
          "row_count": 10
        }
      ]
    },
    "SELECT-equipment->event-GROUP_BY-ORDER_BY": {
      "count": 1,
      "examples": [
        {
          "query": "SELECT ?equipment (AVG(?oee) AS ?avgOEE) (COUNT(?event) AS ?count) WHERE {\n    ?equipment mes_ontology_populated:logsEvent ?event .\n    ?event mes_ontology_populated:hasOEEScore ?oee .\n    FILTER(ISIRI(?equipment))\n} GROUP BY ?equipment\nORDER BY ?avgOEE",
          "purpose": "average OEE by equipment",
          "row_count": 9
        }
      ]
    }
  },
  "fixes": {}
}