# MES Ontology Mind Map for LLM SPARQL Query Generation
# Generated: 2025-07-26T20:05:52.807850
# Purpose: Provide ontology structure with business context for accurate SPARQL query construction

# This file contains:
# 1. Complete class hierarchy with business meanings
# 2. All properties with domains, ranges, and operational context  
# 3. Key individuals as real-world examples

# CRITICAL PREFIX INFORMATION FOR SPARQL QUERIES:
# ============================================
# Owlready2 IGNORES all PREFIX declarations and creates its own prefix from the OWL filename.
# 
# PREFIX MAPPING:
#   - Turtle format (this file): mes:hasOEEScore
#   - OWL filename: mes_ontology_populated.owl
#   - Owlready2 auto-prefix: mes_ontology_populated:hasOEEScore
#   - SPARQL queries MUST use: mes_ontology_populated:hasOEEScore
#
# IMPORTANT: The 'mes:' prefix shown in this file will NOT work in SPARQL queries!
# You MUST use 'mes_ontology_populated:' as the prefix in all SPARQL queries.
#
# Example SPARQL query:
#   SELECT ?equipment ?oee WHERE {
#     ?equipment mes_ontology_populated:logsEvent ?event .
#     ?event a mes_ontology_populated:ProductionLog .
#     ?event mes_ontology_populated:hasOEEScore ?oee .
#     FILTER(?oee < 85.0)
#   }

#############################################################################
# NAMESPACE INFORMATION
#############################################################################

# Base IRI: http://mes-ontology.org/factory.owl#
# Ontology filename: mes_ontology_populated.owl
# Automatic Owlready2 prefix: mes_ontology_populated

# Standard prefixes (automatically available):
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# Ontology prefix:
@prefix mes: <http://mes-ontology.org/factory.owl#> .

# Business context annotation property
mes:businessContext a owl:AnnotationProperty ;
    rdfs:label "Business Context" ;
    rdfs:comment "Explains the business meaning and operational significance" .

mes:typicalValue a owl:AnnotationProperty ;
    rdfs:label "Typical Value" ;
    rdfs:comment "Common or expected values in production" .

mes:calculationMethod a owl:AnnotationProperty ;
    rdfs:label "Calculation Method" ;
    rdfs:comment "How this metric is calculated" .

mes:mapsToColumn a owl:AnnotationProperty ;
    rdfs:label "Maps to Column" ;
    rdfs:comment "The CSV column name this property maps to" .

mes:dataContext a owl:AnnotationProperty ;
    rdfs:label "Data Context" ;
    rdfs:comment "Describes the type and meaning of the data" .

mes:exampleValue a owl:AnnotationProperty ;
    rdfs:label "Example Value" ;
    rdfs:comment "Example value from the dataset" .

#############################################################################
# CLASSES - Core business entities
#############################################################################

mes:Changeover a owl:Class ;
    rdfs:subClassOf mes:PlannedDowntime ;
    rdfs:label "Changeover" .

mes:Cleaning a owl:Class ;
    rdfs:subClassOf mes:PlannedDowntime ;
    rdfs:label "Cleaning" .

mes:DowntimeLog a owl:Class ;
    rdfs:subClassOf mes:Event ;
    rdfs:label "DowntimeLog" .

mes:DowntimeReason a owl:Class ;
    rdfs:subClassOf mes:Reason ;
    rdfs:label "DowntimeReason" .

mes:ElectricalFailure a owl:Class ;
    rdfs:subClassOf mes:UnplannedDowntime ;
    rdfs:label "ElectricalFailure" .

mes:Equipment a owl:Class ;
    rdfs:subClassOf mes:Resource ;
    rdfs:label "Equipment" .

mes:Event a owl:Class ;
    rdfs:label "Event" .

mes:Filler a owl:Class ;
    rdfs:subClassOf mes:Equipment ;
    rdfs:label "Filler" .

mes:MaterialJam a owl:Class ;
    rdfs:subClassOf mes:UnplannedDowntime ;
    rdfs:label "MaterialJam" .

mes:MaterialStarvation a owl:Class ;
    rdfs:subClassOf mes:UnplannedDowntime ;
    rdfs:label "MaterialStarvation" .

mes:MechanicalFailure a owl:Class ;
    rdfs:subClassOf mes:UnplannedDowntime ;
    rdfs:label "MechanicalFailure" .

mes:OperatorError a owl:Class ;
    rdfs:subClassOf mes:UnplannedDowntime ;
    rdfs:label "OperatorError" .

mes:Packer a owl:Class ;
    rdfs:subClassOf mes:Equipment ;
    rdfs:label "Packer" .

mes:Palletizer a owl:Class ;
    rdfs:subClassOf mes:Equipment ;
    rdfs:label "Palletizer" .

mes:PlannedDowntime a owl:Class ;
    rdfs:subClassOf mes:DowntimeReason ;
    rdfs:label "PlannedDowntime" .

mes:PreventiveMaintenance a owl:Class ;
    rdfs:subClassOf mes:PlannedDowntime ;
    rdfs:label "PreventiveMaintenance" .

mes:Process a owl:Class ;
    rdfs:label "Process" .

mes:Product a owl:Class ;
    rdfs:subClassOf mes:Resource ;
    rdfs:label "Product" .

mes:ProductionLine a owl:Class ;
    rdfs:subClassOf mes:Resource ;
    rdfs:label "ProductionLine" .

mes:ProductionLog a owl:Class ;
    rdfs:subClassOf mes:Event ;
    rdfs:label "ProductionLog" .

mes:ProductionOrder a owl:Class ;
    rdfs:subClassOf mes:Process ;
    rdfs:label "ProductionOrder" .

mes:QualityCheck a owl:Class ;
    rdfs:subClassOf mes:UnplannedDowntime ;
    rdfs:label "QualityCheck" .

mes:Reason a owl:Class ;
    rdfs:label "Reason" .

mes:Resource a owl:Class ;
    rdfs:label "Resource" .

mes:SensorFailure a owl:Class ;
    rdfs:subClassOf mes:UnplannedDowntime ;
    rdfs:label "SensorFailure" .

mes:UnplannedDowntime a owl:Class ;
    rdfs:subClassOf mes:DowntimeReason ;
    rdfs:label "UnplannedDowntime" .


#############################################################################
# OBJECT PROPERTIES - Relationships between entities
#############################################################################

mes:belongsToLine a owl:ObjectProperty ;
    rdfs:domain mes:Equipment ;
    rdfs:range mes:ProductionLine ;
    rdfs:label "belongsToLine" .

mes:executesOrder a owl:ObjectProperty ;
    rdfs:domain mes:Equipment ;
    rdfs:range mes:ProductionOrder ;
    rdfs:label "executesOrder" .

mes:hasDowntimeReason a owl:ObjectProperty ;
    rdfs:domain mes:DowntimeLog ;
    rdfs:range mes:DowntimeReason ;
    rdfs:label "hasDowntimeReason" .

mes:hasEquipment a owl:ObjectProperty ;
    rdfs:domain mes:ProductionLine ;
    rdfs:range mes:Equipment ;
    rdfs:label "hasEquipment" .

mes:isDownstreamOf a owl:ObjectProperty ;
    rdfs:domain mes:Equipment ;
    rdfs:range mes:Equipment ;
    rdfs:label "isDownstreamOf" .

mes:isUpstreamOf a owl:ObjectProperty ;
    rdfs:domain mes:Equipment ;
    rdfs:range mes:Equipment ;
    rdfs:label "isUpstreamOf" .

mes:logsEvent a owl:ObjectProperty ;
    rdfs:domain mes:Equipment ;
    rdfs:range mes:Event ;
    rdfs:label "logsEvent" .

mes:producesProduct a owl:ObjectProperty ;
    rdfs:domain mes:ProductionOrder ;
    rdfs:range mes:Product ;
    rdfs:label "producesProduct" .


#############################################################################
# DATA PROPERTIES - Metrics and attributes
#############################################################################

mes:hasAvailabilityScore a owl:DatatypeProperty ;
    rdfs:domain mes:Event ;
    rdfs:range xsd:float ;
    rdfs:label "hasAvailabilityScore" ;
    mes:mapsToColumn "Availability_Score" ;
    mes:dataContext "Equipment availability percentage (0-100)" ;
    mes:typicalValue "World-class: >90%, Current avg: 69%" .

mes:hasDowntimeReasonCode a owl:DatatypeProperty ;
    rdfs:domain mes:DowntimeLog ;
    rdfs:range xsd:string ;
    rdfs:label "hasDowntimeReasonCode" ;
    mes:mapsToColumn "DowntimeReason" ;
    mes:dataContext "Reason code for equipment stoppage" .

mes:hasEquipmentID a owl:DatatypeProperty ;
    rdfs:domain mes:Equipment ;
    rdfs:range xsd:string ;
    rdfs:label "hasEquipmentID" ;
    mes:mapsToColumn "EquipmentID" ;
    mes:dataContext "Unique equipment identifier (e.g., LINE1-FIL)" ;
    mes:exampleValue "LINE1-FIL" .

mes:hasEquipmentType a owl:DatatypeProperty ;
    rdfs:domain mes:Equipment ;
    rdfs:range xsd:string ;
    rdfs:label "hasEquipmentType" ;
    mes:mapsToColumn "EquipmentType" ;
    mes:dataContext "Type of equipment (Filler, Packer, Palletizer)" .

mes:hasGoodUnits a owl:DatatypeProperty ;
    rdfs:domain mes:ProductionLog ;
    rdfs:range xsd:integer ;
    rdfs:label "hasGoodUnits" ;
    mes:mapsToColumn "GoodUnitsProduced" ;
    mes:dataContext "Count of sellable units produced in 5-min interval" .

mes:hasLineID a owl:DatatypeProperty ;
    rdfs:domain mes:ProductionLine ;
    rdfs:range xsd:integer ;
    rdfs:label "hasLineID" ;
    mes:mapsToColumn "LineID" ;
    mes:dataContext "Production line identifier (1-3)" .

mes:hasMachineStatus a owl:DatatypeProperty ;
    rdfs:domain mes:Event ;
    rdfs:range xsd:string ;
    rdfs:label "hasMachineStatus" ;
    mes:mapsToColumn "MachineStatus" ;
    mes:dataContext "Current equipment state (Running/Stopped)" .

mes:hasOEEScore a owl:DatatypeProperty ;
    rdfs:domain mes:Event ;
    rdfs:range xsd:float ;
    rdfs:label "hasOEEScore" ;
    mes:mapsToColumn "OEE_Score" ;
    mes:dataContext "Overall Equipment Effectiveness (0-100)" ;
    mes:typicalValue "World-class: >85%, Good: 60-75%, Current avg: 46%" ;
    mes:calculationMethod "Availability × Performance × Quality" .

mes:hasOrderID a owl:DatatypeProperty ;
    rdfs:domain mes:ProductionOrder ;
    rdfs:range xsd:string ;
    rdfs:label "hasOrderID" ;
    mes:mapsToColumn "ProductionOrderID" ;
    mes:dataContext "Unique identifier for production order" .

mes:hasPerformanceScore a owl:DatatypeProperty ;
    rdfs:domain mes:Event ;
    rdfs:range xsd:float ;
    rdfs:label "hasPerformanceScore" ;
    mes:mapsToColumn "Performance_Score" ;
    mes:dataContext "Production speed efficiency (0-100)" ;
    mes:typicalValue "World-class: >95%, Current avg: 50%" .

mes:hasProductID a owl:DatatypeProperty ;
    rdfs:domain mes:Product ;
    rdfs:range xsd:string ;
    rdfs:label "hasProductID" ;
    mes:mapsToColumn "ProductID" ;
    mes:dataContext "Product SKU identifier" ;
    mes:exampleValue "SKU-1001" .

mes:hasProductName a owl:DatatypeProperty ;
    rdfs:domain mes:Product ;
    rdfs:range xsd:string ;
    rdfs:label "hasProductName" ;
    mes:mapsToColumn "ProductName" ;
    mes:dataContext "Human-readable product name" .

mes:hasQualityScore a owl:DatatypeProperty ;
    rdfs:domain mes:Event ;
    rdfs:range xsd:float ;
    rdfs:label "hasQualityScore" ;
    mes:mapsToColumn "Quality_Score" ;
    mes:dataContext "Product quality percentage (0-100)" ;
    mes:typicalValue "World-class: >99%, Current avg: 64%" .

mes:hasSalePrice a owl:DatatypeProperty ;
    rdfs:domain mes:Product ;
    rdfs:range xsd:float ;
    rdfs:label "hasSalePrice" ;
    mes:mapsToColumn "SalePrice_per_unit" ;
    mes:dataContext "Selling price per unit" .

mes:hasScrapUnits a owl:DatatypeProperty ;
    rdfs:domain mes:ProductionLog ;
    rdfs:range xsd:integer ;
    rdfs:label "hasScrapUnits" ;
    mes:mapsToColumn "ScrapUnitsProduced" ;
    mes:dataContext "Count of defective units in 5-min interval" .

mes:hasStandardCost a owl:DatatypeProperty ;
    rdfs:domain mes:Product ;
    rdfs:range xsd:float ;
    rdfs:label "hasStandardCost" ;
    mes:mapsToColumn "StandardCost_per_unit" ;
    mes:dataContext "Manufacturing cost per unit" .

mes:hasTargetRate a owl:DatatypeProperty ;
    rdfs:domain mes:Product ;
    rdfs:range xsd:float ;
    rdfs:label "hasTargetRate" ;
    mes:mapsToColumn "TargetRate_units_per_5min" ;
    mes:dataContext "Expected production rate per 5-minute interval" .

mes:hasTimestamp a owl:DatatypeProperty ;
    rdfs:domain mes:Event ;
    rdfs:range xsd:string ;
    rdfs:label "hasTimestamp" ;
    mes:mapsToColumn "Timestamp" ;
    mes:dataContext "5-minute interval timestamp for production events" ;
    mes:exampleValue "2025-06-01 00:00:00" .


#############################################################################
# EXAMPLE INDIVIDUALS - Real instances from the factory
#############################################################################

mes:LINE1-FIL a mes:Filler ;
    rdfs:label "LINE1-FIL" ;
    mes:isUpstreamOf mes:LINE1-PCK ;
    mes:executesOrder mes:ORD-1000 ;
    mes:executesOrder mes:ORD-1001 ;
    mes:executesOrder mes:ORD-1002 ;
    mes:logsEvent mes:EVENT-LINE1-FIL-2025-06-01T00-00-00 ;
    mes:logsEvent mes:EVENT-LINE1-FIL-2025-06-01T00-05-00 ;
    mes:logsEvent mes:EVENT-LINE1-FIL-2025-06-01T00-10-00 ;
    mes:belongsToLine mes:LINE1 .

mes:LINE1-PCK a mes:Packer ;
    rdfs:label "LINE1-PCK" ;
    mes:isUpstreamOf mes:LINE1-PAL ;
    mes:executesOrder mes:ORD-1000 ;
    mes:executesOrder mes:ORD-1001 ;
    mes:executesOrder mes:ORD-1002 ;
    mes:logsEvent mes:EVENT-LINE1-PCK-2025-06-01T00-00-00 ;
    mes:logsEvent mes:EVENT-LINE1-PCK-2025-06-01T00-05-00 ;
    mes:logsEvent mes:EVENT-LINE1-PCK-2025-06-01T00-10-00 ;
    mes:belongsToLine mes:LINE1 ;
    mes:isDownstreamOf mes:LINE1-FIL .

mes:LINE2-PCK a mes:Packer ;
    rdfs:label "LINE2-PCK" ;
    mes:isUpstreamOf mes:LINE2-PAL ;
    mes:executesOrder mes:ORD-1039 ;
    mes:executesOrder mes:ORD-1040 ;
    mes:executesOrder mes:ORD-1041 ;
    mes:logsEvent mes:EVENT-LINE2-PCK-2025-06-01T00-00-00 ;
    mes:logsEvent mes:EVENT-LINE2-PCK-2025-06-01T00-05-00 ;
    mes:logsEvent mes:EVENT-LINE2-PCK-2025-06-01T00-10-00 ;
    mes:belongsToLine mes:LINE2 ;
    mes:isDownstreamOf mes:LINE2-FIL .

mes:LINE3-FIL a mes:Filler ;
    rdfs:label "LINE3-FIL" ;
    mes:isUpstreamOf mes:LINE3-PCK ;
    mes:executesOrder mes:ORD-1080 ;
    mes:executesOrder mes:ORD-1081 ;
    mes:executesOrder mes:ORD-1082 ;
    mes:logsEvent mes:EVENT-LINE3-FIL-2025-06-01T00-00-00 ;
    mes:logsEvent mes:EVENT-LINE3-FIL-2025-06-01T00-05-00 ;
    mes:logsEvent mes:EVENT-LINE3-FIL-2025-06-01T00-10-00 ;
    mes:belongsToLine mes:LINE3 .

mes:SKU-1001 a mes:Product ;
    rdfs:label "12oz Sparkling Water" ;
    mes:targetRate 500 ;
    mes:standardCost 0.15 ;
    mes:salePrice 0.5 ;
    mes:profitMargin "70.0%" .

mes:SKU-1002 a mes:Product ;
    rdfs:label "32oz Premium Juice" ;
    mes:targetRate 350 ;
    mes:standardCost 0.45 ;
    mes:salePrice 1.5 ;
    mes:profitMargin "70.0%" .

mes:SKU-2001 a mes:Product ;
    rdfs:label "12oz Soda" ;
    mes:targetRate 475 ;
    mes:standardCost 0.2 ;
    mes:salePrice 0.65 ;
    mes:profitMargin "69.2%" .

mes:SKU-2002 a mes:Product ;
    rdfs:label "16oz Energy Drink" ;
    mes:targetRate 450 ;
    mes:standardCost 0.55 ;
    mes:salePrice 1.75 ;
    mes:profitMargin "68.6%" .

mes:SKU-3001 a mes:Product ;
    rdfs:label "8oz Kids Drink" ;
    mes:targetRate 550 ;
    mes:standardCost 0.25 ;
    mes:salePrice 0.75 ;
    mes:profitMargin "66.7%" .

